<!-- language: html -->
{# cryptologicus/partials/cards/article_card.html #}
{% load tag_filters theme_filters %}

{% with container_classes='cards.article'|theme_token:theme badge_classes='badges.difficulty'|theme_token:theme title_classes='cards.article_title'|theme_token:theme excerpt_classes='cards.article_excerpt'|theme_token:theme %}
<article class="group relative transition-all duration-300 overflow-hidden h-full flex flex-col {{ container_classes }}">
  <div class="p-8 flex-1 flex flex-col">
    <div class="flex items-start justify-between gap-4 mb-4">
      <h3 class="text-xl md:text-2xl font-bold font-heading flex-1 {{ title_classes }}">
        <a href="{{ href }}" class="stretched-link">{{ title }}</a>
      </h3>
      {% if difficulty %}
        <span class="inline-block px-2 py-1 text-xs font-medium rounded whitespace-nowrap text-right {{ badge_classes }}">
          {{ difficulty }}
        </span>
      {% endif %}
    </div>
    {% if excerpt %}
      <p class="mb-6 flex-1 leading-relaxed {{ excerpt_classes }}">{{ excerpt }}</p>
    {% endif %}
    <div class="mt-auto">
      {% if tags %}
        <div class="flex flex-wrap gap-2">
          {% for tag in tags %}
            <span class="inline-block px-2 py-1 text-xs rounded {{ tag.name|tag_color_classes:theme }}">{{ tag.name }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</article>
{% endwith %}
