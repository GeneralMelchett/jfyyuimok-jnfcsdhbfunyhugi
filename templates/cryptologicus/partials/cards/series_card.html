{% load theme_filters %}
{% with container_classes='cards.series'|theme_token:theme|default:'light' frame_classes='cards.series_frame'|theme_token:theme|default:'light' title_class='text.heading_primary'|theme_token:theme|default:'light' subtitle_class='text.body_secondary'|theme_token:theme|default:'light' meta_class='text.meta'|theme_token:theme|default:'light' accent_class='text.accent_primary'|theme_token:theme|default:'light' %}
<a href="{{ series.first_article.url }}"
   class="group block relative rounded-xl p-[1px] transition-all duration-500 ease-out hover:-translate-y-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 {{ frame_classes }}">
  <div class="h-full rounded-[11px] p-6 md:p-8 space-y-4 {{ container_classes }}">

    <div class="flex items-center justify-between">
      <p class="text-[8px] font-bold uppercase tracking-[0.25em] {{ accent_class }} opacity-90" style="font-family: 'Roboto', sans-serif;">
        Curated Series
      </p>
      <span class="text-[8px] font-bold uppercase tracking-[0.1em] {{ meta_class }} opacity-60">
        {{ series.count }} Parts
      </span>
    </div>

    <h2 class="text-base md:text-lg lg:text-xl font-bold leading-tight transition-colors duration-300 group-hover:text-emerald-500 {{ title_class }}" style="font-family: 'Orbitron', sans-serif;">
      {{ series.name|title }}
    </h2>

    <p class="text-[11px] md:text-xs leading-relaxed font-light line-clamp-2 {{ subtitle_class }}" style="font-family: 'Roboto', sans-serif;">
      {% if series.min_part and series.max_part and series.min_part != series.max_part %}
        From Part {{ series.min_part }} to Part {{ series.max_part }}.
      {% elif series.count == 1 %}
        Comprehensive single-part deep dive.
      {% else %}
        Sequential technical breakdown.
      {% endif %}
    </p>

    <div class="mt-4 flex flex-col space-y-3">
      <hr class="border-slate-500/10">
      <div class="flex items-center justify-between">
        <div class="flex-1">
          <p class="text-[7px] font-bold uppercase tracking-[0.2em] {{ meta_class }} opacity-80 mb-1" style="font-family: 'Roboto', sans-serif;">
            Featured Entry
          </p>
          <p class="text-[11px] font-semibold line-clamp-1 {{ title_class }}" style="font-family: 'Roboto', sans-serif;">
            {{ series.first_article.title }}
          </p>
        </div>
        <span class="text-emerald-500 opacity-0 transition-all duration-500 group-hover:translate-x-2 group-hover:opacity-100">
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </span>
      </div>
    </div>
  </div>
</a>
{% endwith %}
