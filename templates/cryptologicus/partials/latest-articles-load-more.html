{% load wagtailcore_tags %}
<div id="latest-load-more-area"
     class="mt-10 text-center space-y-4"
     {% if hx_oob %}hx-swap-oob="true"{% endif %}>
  {% if next_page %}
    <button
      type="button"
      class="inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-5 py-3 text-sm font-semibold text-slate-800 hover:border-emerald-400 hover:text-emerald-600 transition-colors"
      hx-get="{% pageurl page %}latest/{{ next_page }}/"
      hx-target="#latest-articles-grid"
      hx-swap="beforeend"
      hx-indicator="#latest-loading-indicator">
      Load more articles
      <span aria-hidden="true">→</span>
    </button>
    <div id="latest-loading-indicator"
         class="htmx-indicator text-xs text-slate-500 opacity-0 transition-opacity duration-300 flex items-center justify-center gap-2">
      <span class="h-2 w-2 animate-ping rounded-full bg-emerald-500"></span>
      Fetching more work…
    </div>
  {% else %}
    <p class="text-xs uppercase tracking-wide text-slate-500"
       style="font-family: 'Roboto', sans-serif;">
      You're fully caught up.
    </p>
  {% endif %}

  {% if article_index_url %}
    <div>
      <a href="{{ article_index_url }}"
         class="inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 hover:border-emerald-400 hover:text-emerald-600 transition-colors"
         hx-boost="true">
        Browse the full index
        <span aria-hidden="true">↗</span>
      </a>
    </div>
  {% endif %}
</div>
